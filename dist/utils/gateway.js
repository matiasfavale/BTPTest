sap.ui.define(["jquery.sap.global","simplot/portalsprd/utils/models","sap/ui/model/Filter","sap/ui/model/odata/ODataModel","sap/ui/model/odata/v2/ODataModel"],function(e,r,t,a,n){"use strict";return r.makeHelper("gateway").extend({parseEntity:function(e){if(!e.match(/^[\/]{1}/)){e="/"+e}return e},add:function(e,t,a){var a=a||{};a.vertion=a.vertion||"odata";r.load(e,t,a.vertion,a)},delete:function(a,n,o){var s=this;return new Promise(function(s,i){o=e.extend({},o)||{};o.success=s;o.error=i;if(o.useResponseBody){o.success=function(e,r){s(r.body)}}if(Array.isArray(o.filters)){var c=[];o.filters.forEach(function(r){if(Array.isArray(r)){if(!e("meta[name=filtersoff]").get().length)r[2]=location.href.match("localhost")?r[2]:r[2];r=new t(r[0],r[1],r[2],r[3])}c.push(r)});o.filters=c}r.get(a).remove(n,o)})},read:function(a,n,o){var s=this;return new Promise(function(s,i){o=e.extend({},o)||{};o.success=s;o.error=i;if(o.useResponseBody){o.success=function(e,r){s(r.body)}}if(Array.isArray(o.filters)){var c=[];o.filters.forEach(function(r){if(Array.isArray(r)){if(!e("meta[name=filtersoff]").get().length)r[2]=location.href.match("localhost")?r[2]:r[2];r=new t(r[0],r[1],r[2],r[3])}c.push(r)});o.filters=c}r.get(a).read(n,o)})},readV2:function(r,a,n){return new Promise(function(o,s){n=e.extend({},n)||{};n.success=o;n.error=s;if(Array.isArray(n.filters)){var i=[];n.filters.forEach(function(r){if(Array.isArray(r)){if(!e("meta[name=filtersoff]").get().length)r[2]=location.href.match("localhost")?"'"+r[2]+"'":r[2];r=new t(r[0],r[1],r[2],r[3])}i.push(r)});n.filters=i}r.read(a,n)})},create:function(e,t,o){return new Promise(function(s,i){var c=r.get(e);switch(c.constructor){case a:c.create(t,o,null,s,i);break;case n:c.create(t,o,{success:s,error:i});break;default:throw new Error("Modelo '"+e+"' no valido para usar en esta funcion.");break}})},update:function(e,t,o){return new Promise(function(s,i){var c=r.get(e);switch(c.constructor){case a:c.update(t,o,null,s,i);break;case n:c.update(t,o,{success:s,error:i});break;default:throw new Error("Modelo '"+e+"' no valido para usar en esta funcion.");break}})},createV2:function(e,r,t){return new Promise(function(a,n){e.create(r,t,null,a,n)})}})});