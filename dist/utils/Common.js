sap.ui.define(["simplot/portalsprd/utils/models","simplot/portalsprd/utils/gateway","simplot/portalsprd/utils/modelHelper","simplot/portalsprd/utils/FileDownHelp","simplot/portalsprd/utils/controller/CommonNoticia","simplot/portalsprd/utils/controller/CommonOC","simplot/portalsprd/utils/controller/CommonAltaForm","simplot/portalsprd/utils/controller/CommonClaims","simplot/portalsprd/utils/controller/CommonFacturas","simplot/portalsprd/utils/controller/CommonFacturasView","simplot/portalsprd/utils/controller/CommonCtaCte"],function(e,a,t,o,r,l,i,n,s,c,u){"use strict";var p="ORDEN_COMPRA";var d="AUTOGESTION";var v="Model_MainAltaForm";var I="Model_OC";var f="Model_ControllerMain";var g="Model_Facturas";var B="Model_CtaCte";return{getI18nText:function(a){return e.get("i18n").getProperty(a)},onDownloadFile:function(e,a,t){try{this.saveDataFile(this.btoBlob(atob(e),a),t)}catch(e){console.log("Error al subir imagen")}},btoBlob:function(e,a,t){a=a||"";t=t||2048;var o=e;var r=[];var l;for(var i=0;i<o.length;i+=t){var n=o.slice(i,i+t);var s=new Array(n.length);for(var c=0;c<n.length;c++){s[c]=n.charCodeAt(c)}var u=new Uint8Array(s);r.push(u)}try{l=new Blob(r,{type:a})}catch(e){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder;l=new BlobBuilder;l.append(r);l=l.getBlob()}return l},saveDataFile:function(e,a){if(navigator.msSaveBlob){return navigator.msSaveBlob(e,a)}else if(navigator.userAgent.indexOf("Chrome")!=-1){var t=document.createElement("a");document.body.appendChild(t);t.style="display: none";o=window.URL.createObjectURL(e);t.href=o;t.setAttribute("download",a);t.download=a;t.click();window.URL.revokeObjectURL(o)}else{var o=window.URL.createObjectURL(e);window.location.href=o}},navToAltaForm:function(e){i.onLoadModelAlta();e.display("altaform")},navToClaims:function(e){return n.navToClaims(e)},navToOC:function(e,a){l.onLoadModelOC(a);e.display("ordenCompra")},navToPizarron:function(e){r.onLoadModelPizarron();e.display("pizarron")},navToFacturas:function(e){s.onLoadModelFacturas();e.display("facturas")},navToViewFacturas:function(e){c.onLoadModelFacturas();e.display("facturasview")},navToCtaCte:function(e){u.onLoadModelCtaCte();e.display("cuentacorriente")},onGetImpuestos:function(){var a=this;var t={ResponsableInscripto:a.getI18nText("ResponsableInscripto"),Monotributo:a.getI18nText("Monotributo"),NoInscripto:a.getI18nText("NoInscripto"),Exento:a.getI18nText("Exento"),Contribuyente:a.getI18nText("Contribuyente"),Convenio:a.getI18nText("Convenio")};var o=[{Codigo:"1",Texto:t.ResponsableInscripto},{Codigo:"2",Texto:t.Monotributo},{Codigo:"3",Texto:t.NoInscripto},{Codigo:"4",Texto:t.Exento}];var r=[{Codigo:"1",Texto:t.Contribuyente},{Codigo:"2",Texto:t.Convenio},{Codigo:"3",Texto:t.Exento}];e.get(v).setProperty("/rowsIVAIGA",o);e.get(v).setProperty("/rowsIIBB",r);e.get(v).refresh()},onGetPaises:function(){var t="/ListaPaisSet";a.read(d,t,{}).then(function(a){var t=a.results;e.get(v).setProperty("/Paises",t);e.get(v).setSizeLimit(1e4);e.get(v).refresh()}).catch(function(e){console.log(e)})},onGetCatFiscal:function(){var t="/ListaCatFiscalSet";a.read(d,t,{}).then(function(a){var t=a.results;e.get(v).setProperty("/CatFiscal",t);e.get(v).refresh()}).catch(function(e){console.log(e)})},onGetPcia:function(t,o){var r=this;if(t===""){if(o==="X"){e.get(v).setProperty("/HabilitaPcia",false);e.get(v).refresh()}else{e.get(v).setProperty("/HabilitaPcia",true);e.get(v).refresh()}}else{var l="/ListaProvinciaSet";var i=new sap.ui.model.Filter("IvPais","EQ",t);a.read(d,l,{filters:[i]}).then(function(a){var t=a.results;var l={Codigo:"",Texto:r.getI18nText("SeleccionarPcia")};e.get(v).setProperty("/Provincias",t);if(t.length>0){e.get(v).setProperty("/MaestroProveedores/Direccion/Provincia/Texto",t[0].Codigo)}else{e.get(v).setProperty("/MaestroProveedores/Direccion/Provincia/Texto","")}if(o==="X"){}else{e.get(v).setProperty("/HabilitaPcia",true)}e.get(v).refresh()}).catch(function(e){console.log(e)})}},onDownloadArchivo:function(e){a.read(d,e,{}).then(function(e){console.log(e);var a=e.EvContenido;var t="";var r=e.EvNombreArch;o.download(a,t,r)}).catch(function(e){console.log(e)})},onLoadModelUser:function(t){var o=this;o.onShowBusy();o.onChangeTextBusy(o.getI18nText("RecuperandoDatos"));e.load("Model_User",{DataUser:{}});var s="/UsuarioPortalSet('"+t.toUpperCase()+"')";a.read(d,s,{}).then(function(a){e.get("Model_User").setProperty("/DataUser",a);e.get("Model_User").refresh();if(a.EvTipo==="E"){sap.m.MessageBox.error(a.EvMensaje);e.get(f).setProperty("/UserEnabled",false);e.get(f).refresh()}else{e.get(f).setProperty("/UserEnabled",true);e.get(f).refresh();var t=o.onCheckUser();i.onGetDataPartnerAdj("CountDocumentacion");var s=t.filter(e=>e.App==="OC")[0];if(s.canUseApp){l.onGetListOC(true,null)}var c=t.filter(e=>e.App==="Pizarron")[0];if(c.canUseApp){r.onGetNoticias("Cantidad")}var u=t.filter(e=>e.App==="Reclamos")[0];if(u.canUseApp){n.getClaims()}}o.onCloseBusy()}).catch(function(e){o.onCloseBusy();console.log(e)})},onSearch:function(e){var a=e.Model.getProperty(e.ListBack);var t=e.Value;var o=[];if(t===""){e.Model.setProperty(e.List,a)}else{if(isNaN(t)){o=a.filter(a=>a[e.StringSearch].toUpperCase().match(t.toUpperCase()))}else{o=a.filter(a=>a[e.NumberSearch].match(Number(t)))}e.Model.setProperty(e.List,o);e.Model.refresh()}},onCheckUser:function(){var a=e.get("Model_User").getProperty("/DataUser");var t=e.get(f).getProperty("/Apps");for(var o in t){if(t[o].App==="Pizarron"){if(a.BpSap===""||a.NrSap===""){t[o].canUseApp=false}else{t[o].canUseApp=true}}else if(t[o].App==="OC"){if(a.NrSap===""||a.BpSap===""){t[o].canUseApp=false}else{t[o].canUseApp=true}}else if(t[o].App==="Reclamos"){if(a.NrSap===""||a.BpSap===""){t[o].canUseApp=false}else{t[o].canUseApp=true}}else if(t[o].App==="CuentaCorriente"){if(a.NrSap===""||a.BpSap===""){t[o].canUseApp=false}else{t[o].canUseApp=true}}else if(t[o].App==="Facturas"){if(a.NrSap===""||a.BpSap===""){t[o].canUseApp=false}else{t[o].canUseApp=true}}else if(t[o].App==="FacturasView"){if(a.NrSap===""||a.BpSap===""){t[o].canUseApp=false}else{t[o].canUseApp=true}}}e.get(f).setProperty("/Apps",t);e.get(f).refresh();return t},onSearchGlobal:function(e){var a=e.Model.getProperty(e.ListaDataBack);var t=[];if(e.Query===""){e.Model.setProperty(e.ListaData,a);e.Model.setProperty(e.ListaDataCount,a.length);e.Model.setProperty(e.ListaDataRealCount,a.length);e.Model.refresh()}else{if(isNaN(e.Query)){t=a.filter(a=>a[e.Prop1].toUpperCase().match(e.Query.toUpperCase()))}else{t=a.filter(a=>a[e.Prop2].match(Number(e.Query)))}e.Model.setProperty(e.ListaData,t);e.Model.setProperty(e.ListaDataCount,t.length);e.Model.refresh()}},onShowBusy:function(){var a=this;var t=e.get("Model_ControllerMain").getProperty("/ControllerMain");e.load("Model_Busy",{Title:a.getI18nText("MsgBusyTitle"),Text:a.getI18nText("CargaDatos")});if(!t._dialog){t._dialog=sap.ui.xmlfragment("simplot.portalsprd.view.fragment.BusyStatus",t);t.getView().addDependent(t._dialog)}jQuery.sap.syncStyleClass("sapUiSizeCompact",t.getView(),t._dialog);t._dialog.setModel(e.get("Model_Busy"));t._dialog.open()},onChangeTextBusy:function(a){var t=this;var o=e.get("Model_ControllerMain").getProperty("/ControllerMain");o._dialog.getModel().setProperty("/Title",t.getI18nText("MsgBusyTitle"));o._dialog.getModel().setProperty("/Text",a);o._dialog.getModel().refresh()},onCloseBusy:function(){var a=e.get("Model_ControllerMain").getProperty("/ControllerMain");a._dialog.close()},addOneDayDate:function(e,a){var t=1;if(e===""||Number(e)===0){t=1}else{t=Number(e)-1}var o=new Date;var r=t;o.setDate(o.getDate()+r);return o},addOneHourDate:function(e,a,t){var o=1;if(e===""||Number(e)===0||a===""||Number(a)===0){o=1}else{if(Number(e)>Number(a)){o=1}else{o=Number(Number(a)/Number(e).toFixed(0))}}var r=new Date;var l=o;r.setHours(r.getHours()+l);return r},getMsgError:function(e,a){if(a._dialog!==undefined){a.onCloseBusy()}var t=e.toString();if(e.statusCode!==undefined){if(e.statusCode.toString()==="400"||e.statusCode.toString()==="404"){if(e.responseText!==undefined){t=JSON.parse(e.responseText).error.message.value}else{t=JSON.parse(e.body).error.message.value}}else if(e.statusCode.toString()==="504"){t="Error en Tiempo de Respuesta"}}return t},formatterNum:function(e,a){var t=sap.ui.getCore().getConfiguration().getLanguage();var o=new sap.ui.core.Locale(t);var r={minIntegerDigits:1,maxIntegerDigits:13,minFractionDigits:2,maxFractionDigits:2};if(e!==undefined&&e!==null){e=e.toString().replace(",",".")}var l=sap.ui.core.format.NumberFormat.getFloatInstance(r,o);if(a!==undefined){return l.format(e)+" "+a}else{return l.format(e)}},liveNumberDecimal:function(e){var a=e.getValue();var t;if(Intl.NumberFormat().resolvedOptions().locale.indexOf("es")>=0||Intl.NumberFormat().resolvedOptions().locale.indexOf("pt")>=0){if(a.lastIndexOf(",")!==a.indexOf(",")){a=a.replace(",","")}t=this.onReturnNumberDecimal(a,true)}else{if(a.lastIndexOf(".")!==a.indexOf(".")){a=a.replace(".","")}t=this.onReturnNumberDecimal(a,false)}var o=Number(t);var r=e.getFocusInfo();console.log("lengthVal");console.log(e.getValue().length);if(a===""){}else{e.setValue(this.onReturnFormatNumber(o,2));console.log("lengthonReturnFormatNumber");console.log(e.getValue().length);e.applyFocusInfo(r);if(t===""){}else{if(!t||isNaN(o)){var l=a;if(!t){a="0";l="vacio"}if(a.match(/[\-]{1,}/)){a=a.charAt(0)+a.substring(1).replace(/\-/g,"")}e.setValue(a.replace(/[^0-9\,\.\-]{1,}/g,""));sap.m.MessageToast.show("Solo se permiten Valores Numericos, "+l+" no una entra valida.")}}}},formatDate:function(e,a){if(e!==undefined){if(e!==""){var t;if(a==="Main"){t=e.slice(6,8)+"/"+e.slice(4,6)+"/"+e.slice(0,4)}else if(a==="FormatYYYY/MM/DD"){t=e.slice(0,4)+"/"+e.slice(4,6)+"/"+e.slice(6,8)}else if(a==="Update"){t=e.split("/")[2]+e.split("/")[1]+e.split("/")[0]}else if(a==="show"){t=e.split("/")[0]+"/"+e.split("/")[1]+"/"+e.split("/")[2]}else if(a==="hhmmss"){t=new Date(new Date(new Date((new Date).setHours(e.slice(0,2))).setMinutes(e.slice(2,4))).setSeconds(e.slice(4,6)))}else if(a==="GetHour"){t=e.slice(0,2)+":"+e.slice(2,4)+":"+e.slice(4,6)}else if(a==="GetDay"){t=this.getDay(e)}else if(a==="GetDate"){var o=this.getMes(e.getMonth());t=this.validChar(e.getDate())+"/"+this.validChar(o)+"/"+e.getFullYear()}else if(a==="GetDateDD/MM/YYYY"){var o=this.getMes(e.getMonth());t=this.validChar(e.getDate())+"/"+this.validChar(o)+"/"+e.getFullYear()}else if(a==="GetDayChange"){e=new Date(e.split("/")[2]+"/"+e.split("/")[1]+"/"+e.split("/")[0]);t=this.getDay(e.getDay())}else if(a==="GetTimer"){t=this.validChar(e.getHours().toString())+this.validChar(e.getMinutes().toString())+this.validChar(e.getSeconds().toString())}else if(a==="FormatAAAAmmDD"){t=e.split("/")[2]+"/"+e.split("/")[1]+"/"+e.split("/")[0]}return t}}else{e="";return t}},validChar:function(e){if(e.toString().length===1){e="0"+e}return e},getMes:function(e){var a=e+1;return a},getDay:function(e){var a="";if(e===0){a="Domingo"}else if(e===1){a="Lunes"}else if(e===2){a="Martes"}else if(e===3){a="Miercoles"}else if(e===4){a="Jueves"}else if(e===5){a="Viernes"}else if(e===6){a="Sabado"}return a},getCombosFacturas:function(){var e=this;var a=[{key:"FC",value:e.getI18nText("Factura")},{key:"NC",value:e.getI18nText("NotaCredito")},{key:"ND",value:e.getI18nText("NotaDebito")},{key:"EX",value:e.getI18nText("DocumentoExterior")}];var t=[{key:"1",value:"Compras"},{key:"2",value:"Gastos de Importacion"},{key:"3",value:"Póliza"}];var o=[{key:"E",value:"CAE"},{key:"I",value:"CAI"},{key:"A",value:"CAEA"}];var r=[{key:"ARS",value:"Peso Argentino",opciones:"ARS||PES"},{key:"USD",value:"Dólar",opciones:"USD||DOL"},{key:"EUR",value:"Euro",opciones:"EUR"},{key:"CLP",value:"Peso Chileno",opciones:"CLP"},{key:"BRL",value:"Real",opciones:"BRL"}];var l=[{key:"PercGanancias",value:"Percepción Ganancias",opciones:"Ganancias"},{key:"PercIVA",value:"Percepción IVA",opciones:"Percepcion IVA"},{key:"PercIbAduana",value:"Percepciones IIBB Aduana",opciones:"Aduana"},{key:"PercIbCABA",value:"Percepción IIBB CABA",opciones:"CABA||Capital||Capital Federal"},{key:"PercIbBsAs",value:"Percepción IIBB Bs As",opciones:"Buenos Aires||BS. AS.||Bs.As.||Bs As||II.BB.Buenos Aires||"},{key:"PercIbCatamarca",value:"Percepción IIBB Catama",opciones:"Catamarca||II.BB.Catamarca"},{key:"PercIbChaco",value:"Percepción IIBB Chaco",opciones:"Chaco"},{key:"PercIbChubut",value:"Percepción IIBB Chubut",opciones:"Chubut"},{key:"PercIbCordoba",value:"Percepción IIBB Cordoba",opciones:"Córdoba||Cba||Cordoba"},{key:"PercIbCorrientes",value:"Percepción IIBB Corrientes",opciones:"Corrientes"},{key:"PercIbEntreRios",value:"Percepción IIBB Entre Rios",opciones:"Entre Ríos||Entre Rios"},{key:"PercIbFormosa",value:"Percepción IIBB Formosa",opciones:"Formosa"},{key:"PercIbJujuy",value:"Percepción IIBB Jujuy",opciones:"Jujuy"},{key:"PercIbLaPampa",value:"Percepción IIBB La Pampa",opciones:"La Pampa"},{key:"PercIbLaRioja",value:"Percepción IIBB La Rioja",opciones:"La Rioja"},{key:"PercIbMendoza",value:"Percepción IIBB Mendoza",opciones:"Mendoza"},{key:"PercIbMisiones",value:"Percepción IIBB Misiones",opciones:"Misiones"},{key:"PercIbNeuquen",value:"Percepción IIBB Neuquen",opciones:"Neuquén||Neuquen"},{key:"PercIbRioNegro",value:"Percepción IIBB Rio de Negro",opciones:"Río Negro||Rio Negro"},{key:"PercIbSalta",value:"Percepción IIBB Salta",opciones:"Salta||II.BB.Salta"},{key:"PercIbSanJuan",value:"Percepción IIBB San Juan",opciones:"San Juan"},{key:"PercIbSanLuis",value:"Percepción IIBB San Luis",opciones:"San Luis"},{key:"PercIbSantaCruz",value:"Percepción IIBB Santa Cruz",opciones:"Santa Cruz||Sta Cruz||Sta.Cruz||Sta. Cruz"},{key:"PercIbSantaFe",value:"Percepción IIBB Santa Fe",opciones:"Santa Fe||Sta. Fe||Sta.Fe||Sta Fe"},{key:"PercIbSgoEstero",value:"Percepción IIBB Sgo. Del Estero",opciones:"Santiago del Estero"},{key:"PercIbTierraFuego",value:"Percepción IIBB Tierra del Fuego",opciones:"Tierra del Fuego"},{key:"PercIbTucuman",value:"Percepción IIBB Tucuman",opciones:"Tucumán||Tuc||Tucuman||II.BB.Tucuman||Tuc."},{key:"PercImpIntTasasContrib",value:"Impuestos Internos / Tasas y contrib.",opciones:"Percepcion IVA"}];var i=[{key:"IVA21",value:"IVA 21%",opciones:"21,000%||21.0%||21%||21,0%||21.00%||(21,0)%||21,00%||21%:"},{key:"IVA105",value:"IVA 10,5%",opciones:"10,5%||10.5%||10.5%:"},{key:"IVA27",value:"IVA 27%",opciones:"27,000%||27.0%||27%||27,0%||27.00%||(27,0)%||27,00%||27%:"},{key:"IVA0",value:"IVA 0% Exento ",opciones:"0,000%||0.0%||0%||0,0%||0.00%||(0,0)%||0,00%||0%:"}];var n=[{key:"1",value:"Pendiente"},{key:"2",value:"Exportado"},{key:"3",value:"Rechazado"}];var s=[{FieldClave:"claveIIBB1",FieldVal:"valorIIBB1"},{FieldClave:"claveIIBB2",FieldVal:"valorIIBB2"},{FieldClave:"claveIIBB3",FieldVal:"valorIIBB3"},{FieldClave:"claveIIBB4",FieldVal:"valorIIBB4"},{FieldClave:"claveIIBB5",FieldVal:"valorIIBB5"},{FieldClave:"claveIIBB6",FieldVal:"valorIIBB6"},{FieldClave:"claveIIBB7",FieldVal:"valorIIBB7"},{FieldClave:"claveIIBB8",FieldVal:"valorIIBB7"},{FieldClave:"claveIIBB9",FieldVal:"valorIIBB9"},{FieldClave:"claveIIBB10",FieldVal:"valorIIBB10"},{FieldClave:"claveIIBB11",FieldVal:"valorIIBB11"},{FieldClave:"claveIIBB12",FieldVal:"valorIIBB12"},{FieldClave:"claveIIBB13",FieldVal:"valorIIBB13"},{FieldClave:"claveIIBB14",FieldVal:"valorIIBB14"},{FieldClave:"claveIIBB15",FieldVal:"valorIIBB15"},{FieldClave:"claveIIBB16",FieldVal:"valorIIBB16"},{FieldClave:"claveIIBB17",FieldVal:"valorIIBB17"},{FieldClave:"claveIIBB18",FieldVal:"valorIIBB18"},{FieldClave:"claveIIBB19",FieldVal:"valorIIBB19"},{FieldClave:"claveIIBB20",FieldVal:"valorIIBB20"},{FieldClave:"claveIIBB21",FieldVal:"valorIIBB21"},{FieldClave:"claveIIBB22",FieldVal:"valorIIBB22"},{FieldClave:"claveIIBB23",FieldVal:"valorIIBB23"},{FieldClave:"claveIIBB24",FieldVal:"valorIIBB24"}];var c=[{FieldClave:"claveIVA1",FieldVal:"valorIVA1"},{FieldClave:"claveIVA2",FieldVal:"valorIVA2"},{FieldClave:"claveIVA3",FieldVal:"valorIVA3"},{FieldClave:"claveIVA4",FieldVal:"valorIVA4"},{FieldClave:"claveIVA5",FieldVal:"valorIVA5"}];var u={SourcePDF:"",isVisibile:false};var p={nroFactura:"",nroPedido:"",cae:"",cliente:"",subtotal:"",total:"",moneda:"",tipoCambio:"",fecha:"",fechaVto:"",subtotal2:"",impuestoInterno:"",condicionPago:"",descuentos:"",percepcionIva:"",percepcionGanancias:"",NotaProveedor:""};var d={comboTipoFactura:{rowTemplate:a,selectKey:""},comboSubtipoFactura:{rowTemplate:[],rowTemplateBack:[],selectKey:""},comboCircuito:{rowTemplate:t,selectKey:""},comboMoneda:{rowTemplate:r,selectKey:""},comboModo:{rowTemplate:o,selectKey:""},comboSociedad:{rowTemplate:[],selectKey:""},iibbItemsFields:s,ivaItemsFields:c,ComboIIBB:l,ComboIVA:i};var v={AllCombos:d,Header:p,TipoFactura:a,Circuito:t,Modo:o,Moneda:r,KeysIIBB:l,KeysIva:i,State:n,ComboIIBBFields:s,ComboIVAFields:c,ObjectoSourcePDF:u};return v},validTaxCharacter:function(e){var a={Key:"",Val:""};if(e.toString().length===1){a.Key="TaxKey0"+e;a.Val="TaxVal0"+e}else{a.Key="TaxKey"+e;a.Val="TaxVal"+e}return a},onReturnFormatNumber:function(e,a){if(a===null||a===undefined){a=2}var t=Intl.NumberFormat().resolvedOptions().locale;return e.toLocaleString(t,{minimumFractionDigits:a})},onReturnNumberDecimal:function(e,a){if(a){e=e.replaceAll(".","").replace(/[^0-9 . ,]/g,"").replace(",",".")}else{e=e.replaceAll(",","").replace(/[^0-9 . ,]/g,"")}return e},liveNumberDecimal2:function(e){var a;var t;if(Intl.NumberFormat().resolvedOptions().locale.indexOf("es")>=0||Intl.NumberFormat().resolvedOptions().locale.indexOf("pt")>=0){if(e.lastIndexOf(",")!==e.indexOf(",")){e=e.replace(",","")}t=this.onReturnNumberDecimal(e,false)}else{if(e.lastIndexOf(".")!==e.indexOf(".")){e=e.replace(".","")}t=this.onReturnNumberDecimal(e,true)}var o=Number(t);console.log("lengthVal");if(e===""){}else{a=this.onReturnFormatNumber(o,2);console.log("lengthonReturnFormatNumber");if(t===""){}else{if(!t||isNaN(o)){var r=e;if(!t){e="0";r="vacio"}if(e.match(/[\-]{1,}/)){e=e.charAt(0)+e.substring(1).replace(/\-/g,"")}a=e.replace(/[^0-9\,\.\-]{1,}/g,"");sap.m.MessageToast.show("Solo se permiten Valores Numericos, "+r+" no una entra valida.")}}}return a},onReturnFormatToSend:function(e,a){if(a===undefined||a===null){a=true}if(a){e=e.replaceAll(".","").replace(",",".");e=Number(e).toFixed(2)}else{e=e.replaceAll(",","");e=Number(e).toFixed(2)}return e},onCheckPointDecimal:function(e){var a=true;if(e.lastIndexOf(",")>e.lastIndexOf(".")){a=true}else{a=false}return a},f_Inputs:function(e){var a=this;if(e==undefined)return true;jQuery.each(e,function(e,a){a.setValueState("None")});jQuery.each(e,function(e,t){if(t.getEnabled()==true){var o=t.getMetadata().getName();switch(o){case"sap.m.ComboBox":case"sap.m.Select":if(t.getSelectedKey()==""||t.getSelectedKey()=="DUM"){t.setValueState("Error")}break;case"sap.m.Input":if(t.getType()=="Email"){if(t.getValue()==""){t.setValueState("Error")}else{var r=/^\w+[\w-+\.]*\@\w+([-\.]\w+)*\.[a-zA-Z]{2,}$/;if(!r.test(t.getValue())){a.f_showMessage("WARNING",oInicioController.getResourceBundle().getText("Invalid-Email"));t.setValueState("Error")}else t.setValueState("None")}}else if(t.getValue()=="")t.setValueState("Error");break;case"sap.m.RadioButtonGroup":if(t.getSelectedIndex()==-1){t.setValueState("Error")}break;default:if(!t.getValue()){t.setValueState("Error")}break}}});var t=true;jQuery.each(e,function(e,a){if("Error"===a.getValueState()){t=false}});if(t){return true}else{return false}},f_FElements:function(e){var a=this;var t=false;var o=[];var r;for(var l=0;l<e.length;l++){r=e[l].getLabelControl().getRequired();for(var i=0;i<e[l].getFields().length;i++){if(e[l].getFields()[i].getMetadata().getName()!="sap.m.Label"){if(e[l].getFields()[i].getMetadata().getName()=="sap.m.FlexBox"){for(var n=0;n<e[l].getFields()[i].getItems().length;n++){if(e[l].getFields()[i].getItems()[n].getMetadata().getName()!="sap.m.Label"&&e[l].getFields()[i].getItems()[n].getMetadata().getName()!="sap.m.Text"){if(r==true)o.push(e[l].getFields()[i].getItems()[n])}}}else{if(r==true)o.push(e[l].getFields()[i])}}}}t=a.f_Inputs(o);setTimeout(function(){a.f_setStateNoneInputs(o)},6e3);return t},f_setStateNoneInputs:function(e){var a=this;if(e==undefined)return true;jQuery.each(e,function(e,a){if(a!=undefined)a.setValueState("None")})}}});